version: '3.8'

services:
  website-collection:
    image: crpi-l14b1sc286yk94go.cn-hangzhou.personal.cr.aliyuncs.com/galgame/web_main:v1.1.1
    container_name: web_main
    ports:
      - "80:80"
    restart: unless-stopped
    environment:
      TZ: Asia/Shanghai
      GOPROXY: https://goproxy.cn,direct
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    networks:
      - server

networks:
  server:
    driver: bridge

# 可选：数据卷配置（如需要持久化）
volumes:
  website-logs:
    driver: local